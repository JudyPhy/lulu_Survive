package pb;

enum ErrorCode
{
	SUCCESS = 1;
	FAIL = 2;
	
	ACCOUNT_ERROR = 3;
	PASSWORD_ERROR = 4;
	
	NICKNAME_EXIST = 5;	
}

message PlayerInfo
{
	required int32 OID = 1;
	required string NickName = 2;
	required string HeadIcon = 3;
}

message FrameRoleData
{
	required uint32 PlayerID = 1;
	required RoleTrs Trs = 2;
	required BuffCN Buff = 3;
}

message RoleTrs
{
	required uint32 pos_x = 1;
	required uint32 pos_y = 2;	
	required uint32 rot = 3;
}

message EnergeCN
{
	required uint32 pos_x = 1;
	required uint32 pos_y = 2;
}

message BuffCN
{
	required uint32 pos_x = 1;
	required uint32 pos_y = 2;
}

/////////////////////////////////////////////////////////////////////
message C2GSLogin
{
	required string account = 1;
    required string password = 2;
}

message GS2CLoginRet
{
	required ErrorCode errorCode = 1;
	optional PlayerInfo playerInfo = 2;
}

message C2GSChooseRole
{
	required string NickName = 1;
	required string HeadIcon = 2;
}

message GS2CChooseRoleRet
{
	required ErrorCode errorCode = 1;
	required PlayerInfo playerInfo = 2;
}

message GS2CEnterGame
{
	required string RoomID = 1;
	required RoleTrs BornTrs = 2;
}

message GSSyncPkgRecv
{	
	optional uint32 ClientAct = 1;	//客户端当前操作帧序号
	optional RoleTrs Trs = 2;
	required uint32 Act = 3;	//已经处理过的最大service帧序号
}

message GSSyncPkgSend
{
	required uint32 Act = 1;	//service帧序号
	repeated FrameRoleData Role = 2;
	required EnergeCN Energe = 3;
}